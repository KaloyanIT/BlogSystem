@using Blog.Data.Models.Comments
@model DetailedBlogPostViewModel

@{
    ViewData["Title"] = Model.Title;
}

@section Head
{
    @(await Component.InvokeAsync<OpenGraphViewComponent>(new { attachedItemId = Model.Id }) )
}

@await Component.InvokeAsync("Header", new { Title = Model.Title, SubTitle = Model.Summary, CreationDate = Model.DateCreated, Author = "Kaloyan Kostov" })

<div class="container">
    <article>
        @Html.Raw(Model.Content)

        @(await Component.InvokeAsync<CommentsViewComponent>(new { id = Model.Id, commentItemType = CommentItemType.Blog }))
    </article>
</div>



@section ScriptsBody
{
    <script type="text/javascript" src="~/StaticFiles/dist/js/front-end/comments.js"></script>
    <script>
        $(document).ready(function () {
            window.comments.init('@Model.Id', '@CommentItemType.Blog');
        });
    </script>
}